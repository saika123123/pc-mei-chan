<!DOCTYPE html>

<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>PC Mei - メイン画面</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="js/keicho.js"></script>
    <script type="text/javascript" src="js/audiorec.js"></script>
    <script type="text/javascript" src="js/imgrec.js"></script>
    <script type="text/javascript" src="js/youid.js"></script>
    <script type="text/javascript" src="js/mikutalk.js"></script>
    <script type="text/javascript" src="js/mmd.js"></script>
    <script type="text/javascript" src="js/stt.js"></script>
    <script type="text/javascript" src="js/moment.js"></script>
    <script type="text/javascript" src="js/furikaeri.js"></script>
    <script type="text/javascript" src="js/services/todo.js"></script>
    <script type="text/javascript" id="www-widgetapi-script"
        src="https://s.ytimg.com/yts/jsbin/www-widgetapi-vflS50iB-/www-widgetapi.js" async=""></script>
    <script type="text/javascript" src="https://www.youtube.com/player_api"></script>
    <script type="text/javascript" src="js/services/youtube.js"></script>
    <script type="text/javascript" src="js/services/search.js"></script>
    <script type="text/javascript" src="js/services/diary.js"></script>
    <script type="text/javascript" src="js/services/calendar.js"></script>
    <script type="text/javascript" src="js/services/garmin.js"></script>
    <script type="text/javascript" src="js/services/rakudo.js"></script>
    <script type="text/javascript" src="js/services/news.js"></script>
    <script type="text/javascript" src="js/services/weather.js"></script>
    <script type="text/javascript" src="js/services/time.js"></script>
    <script type="text/javascript" src="js/services/videochat.js"></script>
    <script type="text/javascript" src="js/services/chatgpt.js"></script>
    <script type="text/javascript" src="js/services/teach.js"></script>
    <script type="text/javascript" src="js/service.js"></script>
    <script src="https://wsapp.cs.kobe-u.ac.jp/cs27pubsub/webjars/sockjs-client/1.0.2/sockjs.min.js"></script>
    <script src="https://wsapp.cs.kobe-u.ac.jp/cs27pubsub/webjars/stomp-websocket/2.3.3/stomp.min.js"></script>
    <script type="text/javascript" src="js/services/auto-meeting-service.js"></script>
    <link rel="stylesheet" type="text/css" href="css/mikutalk.css">
    <link rel="stylesheet" type="text/css" href="css/calendar.css">
    <script>
        initialize();
    
        var scrollYPostion = 0, scrollYPostionPushFlag = false, scrollYPostionArr = new Array();
        window.addEventListener("scroll", (event) => {
            scrollYPostion = Number(this.scrollY);
            if (scrollYPostionPushFlag) {
                scrollYPostionArr.push(scrollYPostion);
                scrollYPostionPushFlag = false;
            };
            if (scrollYPostionArr.length > 5) {
                scrollYPostionArr = scrollYPostionArr.splice(0, 1);
            };
        });
    
        // 以下を追加
        document.getElementById('meeting-scheduler').addEventListener('submit', function(event) {
            event.preventDefault();
            scheduleMeeting();
        });
    </script>
</head>

<body>
    <div id="timeline">
    </div>
    <div id="bottom">
        <span class="status" id="status"></span>
    </div>
    <div id="sound">
        <audio id="timeSound" loop preload="auto" src="sound/Clock-Alarm02-1(Loop).mp3"></audio>
    </div>
    <div id="meeting-scheduler">
        <h3>ミーティングをスケジュール</h3>
        <form id="meeting-form">
          <label for="meeting-datetime">日時:</label>
          <input type="datetime-local" id="meeting-datetime" required><br><br>
          
          <label for="meeting-participants">参加者 (名前をカンマ区切りで入力):</label>
          <input type="text" id="meeting-participants" required placeholder="山田太郎, 鈴木花子"><br><br>
          
          <button type="submit">ミーティングをスケジュール</button>
        </form>
        <div id="meeting-result"></div>
      </div>
    <video id="videostm" autoplay playsinline="true"></video>
    <canvas id="imgcvs"></canvas>
    <script>
        initialize();

        var scrollYPostion = 0, scrollYPostionPushFlag = false, scrollYPostionArr = new Array();
        window.addEventListener("scroll", (event) => {
            scrollYPostion = Number(this.scrollY);
            if (scrollYPostionPushFlag) {
                scrollYPostionArr.push(scrollYPostion);
                scrollYPostionPushFlag = false;
            };
            if (scrollYPostionArr.length > 5) {
                scrollYPostionArr = scrollYPostionArr.splice(0, 1);
            };
            // console.log(JSON.stringify(scrollYPostionArr));
        });
    </script>
</body>

</html>